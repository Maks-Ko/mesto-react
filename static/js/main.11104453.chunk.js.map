{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","images/Vector_pen.png","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","onClick","onCardDelete","link","name","onCardClick","onCardLike","length","Main","avatar","background","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","card","Footer","PopupWithForm","isOpen","onClose","title","id","onSubmit","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","value","onChange","placeholder","requiredminlength","maxLength","EditAatarPopup","urlAvatar","useRef","onUpdateAvatar","current","ref","required","AddPlacePopup","nameImage","setNameImage","urlImage","setUrlImage","ImagePopup","api","this","_baseUrl","_headers","authorization","fetch","headers","then","_checkResponse","Promise","all","getItemsUser","getItemsCards","dataUser","method","body","JSON","stringify","dataCard","idCard","isLike","dataAvatar","res","ok","json","reject","status","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","closeAllPopups","date","catch","err","console","log","closeByEscape","key","document","addEventListener","removeEventListener","Provider","toggleLikeCard","newCard","state","c","deleteCardUser","filter","editProfile","EditAvatarPopup","editAvatar","addCardForm","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.11104453.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        \r\n        <header className=\"header\">\r\n            <a href=\"/\" target=\"_self\" className=\"header__link\">\r\n                <img src={logo} alt=\"Логотип\" className=\"header__logo\" />\r\n            </a>\r\n        </header>\r\n        \r\n    )\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    // Определяем, являемся ли мы владельцем текущей карточки\r\n    const isOwn = props.owner._id === currentUser._id;\r\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n    const cardDeleteButtonClassName = (\r\n        `element__delete ${isOwn ? 'element__delete_show' : ''}`\r\n    );\r\n\r\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n    const isLiked = props.likes.some(i => i._id === currentUser._id);\r\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n    const cardLikeButtonClassName = ( `element__like ${isLiked ? 'element__like_active' : ''}`);\r\n    \r\n    function handleLikeClick() {\r\n        props.onCardLike(props);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props);\r\n    }\r\n\r\n    function handleClick() {\r\n        props.onCardClick(props.name, props.link);\r\n    }\r\n\r\n    return(\r\n        <li className=\"element\">\r\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}></button>\r\n            <img className=\"element__foto\" src={props.link} alt={props.name} onClick={handleClick} />\r\n            <div className=\"element__lable\">\r\n                <p className=\"element__title\">{props.name}</p>\r\n                <div className=\"element__lable-likes\">\r\n                <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n                <p className=\"element__numder-likes\">{props.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card;","import React from 'react';\r\nimport buttonAvatar from '../images/Vector_pen.png';\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Main(props) {    \r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return(\r\n        \r\n        <main className=\"main\">\r\n            <section className=\"profile\">\r\n                <img src={currentUser.avatar} alt=\"Аватарка\" className=\"profile__avatar\" />\r\n                <button type=\"button\" background={buttonAvatar} className=\"profile__avatar-activ\" onClick={props.onEditAvatar}></button>\r\n                <div className=\"profile-info\">\r\n                    <h1 className=\"profile-info__title\">{currentUser.name}</h1>\r\n                    <button type=\"button\" className=\"profile-info__button\" onClick={props.onEditProfile}></button>\r\n                    <p className=\"profile-info__text\">{currentUser.about}</p>\r\n                </div>\r\n                <button type=\"button\" className=\"profile__button\" onClick={props.onAddPlace}></button>\r\n            </section>\r\n            <section>\r\n                <ul className=\"elements\">\r\n                    {props.cards.map(card => {return(\r\n                    <Card\r\n                        name={card.name}\r\n                        link={card.link}\r\n                        likes={card.likes}\r\n                        _id={card._id}\r\n                        key={card._id}\r\n                        owner={card.owner}\r\n                        onCardClick={props.onCardClick}\r\n                        onCardLike={props.onCardLike}\r\n                        onCardDelete={props.onCardDelete}\r\n                    />)})}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n        \r\n    )    \r\n}\r\n\r\nexport default Main;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB9SURBVHgB7dbBCYAwDAXQ4ASO4CiO4AgdwQ10BDfqKBklpjRCKIiXfLzkQyi95PHppUSAiMiiU9tJqBjC0sMQbEAEgr0gTypF5AOJaZRIIokkksifiEEFjjjsRDY5/DKHxTaxhTxgezSyQt/CMuls7j7rFEJE+kfvas0ImBsR7skYWCY75QAAAABJRU5ErkJggg==\"","function Footer() {\r\n    return(\r\n        \r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n        \r\n    )\r\n}\r\n\r\nexport default Footer;","function PopupWithForm(props) {\r\n    return(\r\n       \r\n        <div className={`popup popup_type_${props.name} ${props.isOpen}`}>\r\n            <div className=\"popup__content\">\r\n            <button type=\"button\" className=\"popup__button popup__button_profile popup__button-close\" onClick={props.onClose}></button>\r\n            <h2 className=\"popup__title\">{`${props.title}`}</h2>\r\n            <form name={`${props.name}`} className=\"form form_profile\" id={`${props.id}`} onSubmit={props.onSubmit}>\r\n                <fieldset className=\"form__container\">\r\n                {props.children}\r\n                <button type=\"submit\" className=\"form__button\">{props.buttonText}</button>\r\n                </fieldset>\r\n            </form>\r\n            </div>\r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, props.isOpen]);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm\r\n            isOpen = {props.isOpen ? \"popup_is-opened\" : \"\"}\r\n            onClose = {props.onClose}\r\n            name=\"edit-profile\"\r\n            title=\"Редактировать профиль\"\r\n            id=\"profileFormValidator\"\r\n            buttonText=\"Сохранить\"\r\n            onSubmit={handleSubmit}\r\n            >\r\n              <input name=\"user_name\" value={name || ''} onChange={handleChangeName} id=\"user_name\" className=\"form__text form__text_edit_name\" type=\"text\" placeholder=\"Имя\" requiredminlength=\"2\" maxLength=\"40\" />\r\n              <span id=\"user_name-error\" className=\"form__input-error\"></span>\r\n              <input name=\"activity\" value={description || ''} onChange={handleChangeDescription} id=\"activity\" className=\"form__text form__text_edit_about-me\" type=\"text\" placeholder=\"Вид деятельности\" requiredminlength=\"2\" maxLength=\"200\" />\r\n              <span id=\"activity-error\" className=\"form__input-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAatarPopup(props) {    \r\n    const urlAvatar = React.useRef();\r\n    \r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onUpdateAvatar({\r\n            avatar: urlAvatar.current.value,\r\n        });\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm\r\n            isOpen = {props.isOpen ? \"popup_is-opened\" : \"\"}\r\n            onClose = {props.onClose}\r\n            name=\"edit-avatar\"\r\n            title=\"Обновить аватар\"\r\n            buttonText=\"Сохранить\"\r\n            onSubmit={handleSubmit}\r\n            >\r\n              <input name=\"url_avatar\" ref={urlAvatar} id=\"url_avatar\" className=\"form__text form__text_edit_about-me\" type=\"url\" placeholder=\"Ссылка на аватарку\" required />\r\n              <span id=\"url_avatar-error\" className=\"form__input-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAatarPopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [nameImage, setNameImage] = React.useState('');\r\n    const [urlImage, setUrlImage] = React.useState('');\r\n\r\n    function handleChangeNameImage(e) {\r\n        setNameImage(e.target.value);\r\n    }\r\n    function handleChangeUrlImage(e) {\r\n        setUrlImage(e.target.value);\r\n    }\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        props.onAddPlace({\r\n            name: nameImage,\r\n            link: urlImage\r\n        })\r\n    }\r\n\r\n    return(\r\n        <PopupWithForm\r\n            isOpen = {props.isOpen ? \"popup_is-opened\" : \"\"}\r\n            onClose = {props.onClose}\r\n            name = \"add-card\"\r\n            title = \"Новое место\"\r\n            id = \"cardFormValidator\"\r\n            buttonText = \"Сохранить\"\r\n            onSubmit = {handleSubmit}\r\n            >\r\n              <input name=\"image_name\" value={nameImage} onChange={handleChangeNameImage} id=\"image_name\" className=\"form__text form__text_edit_name\" type=\"text\" placeholder=\"Название\" requiredminlength=\"2\" maxLength=\"30\" />\r\n              <span id=\"image_name-error\" className=\"form__input-error\"></span>\r\n              <input name=\"url_image\" value={urlImage} onChange={handleChangeUrlImage} id=\"url_image\" className=\"form__text form__text_edit_about-me\" type=\"url\" placeholder=\"Ссылка на картинку\" required />\r\n              <span id=\"url_image-error\" className=\"form__input-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","function ImagePopup(props) {\r\n    return(\r\n        <div className={`popup popup_type_image ${props.isOpen}`}>\r\n            <div className=\"images-content\">\r\n            <button type=\"button\" className=\"images-content__button popup__button-close\" onClick={props.onClose}></button>\r\n            <img className=\"images-content__foto\" src={props.link} alt={props.name} />\r\n            <h2 className=\"images-content__title\">{props.name}</h2>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","class Api {\r\n    constructor() {\r\n        this._baseUrl = 'https://mesto.nomoreparties.co/v1/cohort-26';\r\n        this._headers = {\r\n            authorization: 'd3e97d43-b7f6-462d-a435-bd7e94d9d5b6',\r\n            'Content-Type': 'application/json'\r\n          };\r\n    }\r\n\r\n    // получаем данные пользователя\r\n    getItemsUser() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    // получаем данные карточек\r\n    getItemsCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: this._headers\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    getAllNeededData() {\r\n        return Promise.all([this.getItemsUser(), this.getItemsCards()])\r\n    }\r\n\r\n    // редактирование профиля\r\n    editProfile(dataUser) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: dataUser.name,\r\n                about: dataUser.about\r\n            })\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    // добавление карточки\r\n    addCardForm(dataCard) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: dataCard.name,\r\n                link: dataCard.link\r\n            })\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    // удаление карточки\r\n    deleteCardUser(idCard) {\r\n        return fetch(`${this._baseUrl}/cards/${idCard}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers,\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    // добавление - удаление лайка карточки    \r\n    toggleLikeCard(idCard, isLike) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${idCard}`, {\r\n            method: isLike ? 'DELETE' : 'PUT',\r\n            headers: this._headers,\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    // редактирование аватар\r\n    editAvatar(dataAvatar) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: dataAvatar.avatar\r\n              })\r\n        })\r\n        .then(this._checkResponse)\r\n    }\r\n\r\n    _checkResponse(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n}\r\n\r\nconst api = new Api();\r\n\r\nexport default api;","import '../index.css';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport React from 'react';\r\nimport api from '../utils/Api';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({ isOpen: false, name: '', link: ''});  \r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    api.getItemsUser()\r\n    .then((date) => {\r\n        setCurrentUser(date);\r\n    })\r\n    .catch((err) => {\r\n        console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n  }, []);\r\n\r\n  React.useEffect(() => {        \r\n    api.getItemsCards()\r\n    .then((date) =>{            \r\n        setCards(date);\r\n    })\r\n    .catch((err) => {\r\n        console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);    \r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api.toggleLikeCard(card._id, isLiked)\r\n    .then((newCard) => {\r\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n    })\r\n    .catch((err) => {\r\n      console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCardUser(card._id)\r\n    .then(() => {\r\n      setCards((cards) => cards.filter((c) => c._id !== card._id));\r\n    })\r\n    .catch((err) => {\r\n      console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n  }\r\n  \r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(name, link) {\r\n    setSelectedCard({\r\n      isOpen: true,\r\n      name: name,\r\n      link: link,\r\n    })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    const closeByEscape = (e) => {\r\n      if (e.key === 'Escape') {\r\n        closeAllPopups();\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', closeByEscape);\r\n    \r\n    return () => document.removeEventListener('keydown', closeByEscape);\r\n  }, []);\r\n\r\n  function closeAllPopups(){\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setSelectedCard({\r\n      isOpen: false,\r\n      name: '',\r\n      link: '',\r\n    });\r\n  }\r\n\r\n  function handleUpdateUser(props) {\r\n    api.editProfile(props)\r\n    .then((date) => {\r\n      setCurrentUser(date);\r\n      closeAllPopups();     \r\n    })\r\n    .catch((err) => {\r\n      console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar(props) {\r\n    api.editAvatar(props)\r\n    .then((date) => {\r\n      setCurrentUser(date);\r\n      closeAllPopups();     \r\n    })\r\n    .catch((err) => {\r\n      console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n  }\r\n  \r\n  function handleAddPlaceSubmit(props) {\r\n    api.addCardForm(props)\r\n    .then((newCard) => {\r\n      setCards([newCard, ...cards]);\r\n      closeAllPopups();     \r\n    })\r\n    .catch((err) => {\r\n      console.log(err); // \"Что-то пошло не так: ...\"\r\n    });\r\n  }\r\n  \r\n  return (\r\n    <div className=\"root\">\r\n      <CurrentUserContext.Provider value = {currentUser}>\r\n        <Header />\r\n        <Main\r\n            onEditAvatar = {handleEditAvatarClick}\r\n            onEditProfile = {handleEditProfileClick}\r\n            onAddPlace = {handleAddPlaceClick}\r\n            onCardClick = {handleCardClick}\r\n            cards = {cards}\r\n            onCardLike = {handleCardLike}\r\n            onCardDelete = {handleCardDelete} />\r\n        <Footer />\r\n        <EditProfilePopup\r\n            isOpen = {isEditProfilePopupOpen}\r\n            onClose = {closeAllPopups}\r\n            onUpdateUser = {handleUpdateUser}/>\r\n        <EditAvatarPopup\r\n            isOpen = {isEditAvatarPopupOpen}\r\n            onClose = {closeAllPopups}\r\n            onUpdateAvatar = {handleUpdateAvatar} />\r\n        <AddPlacePopup\r\n            isOpen = {isAddPlacePopupOpen}\r\n            onClose = {closeAllPopups}\r\n            onAddPlace = {handleAddPlaceSubmit} />        \r\n        <PopupWithForm\r\n            name = \"delete-card\"\r\n            title = \"Вы уверены?\"\r\n            buttonText = \"Удалить\" />\r\n        <ImagePopup\r\n            isOpen = {selectedCard.isOpen ? \"popup_is-opened\" : \"\"}\r\n            onClose = {closeAllPopups}\r\n            name = {selectedCard.name}\r\n            link = {selectedCard.link} />\r\n      </CurrentUserContext.Provider>   \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}